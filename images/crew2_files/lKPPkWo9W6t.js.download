if (self.CavalryLogger) { CavalryLogger.start_js(["0wwg9"]); }

__d("CometWarningScreenOverlayBackground_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWarningScreenOverlayBackground_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"cover_style",storageKey:null}],type:"OverlayWarningScreenViewModel",abstractKey:null};e.exports=a}),null);
__d("CometWarningScreenOverlayBottomButton_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWarningScreenOverlayBottomButton_data",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"label",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null}],type:"WarningScreenAction",abstractKey:null};e.exports=a}),null);
__d("CometWarningScreenOverlayCenterButton_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWarningScreenOverlayCenterButton_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"label",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"WarningScreenAction",abstractKey:null};e.exports=a}),null);
__d("CometWarningScreenOverlayContent_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWarningScreenOverlayContent_data",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"WarningScreenAction",kind:"LinkedField",name:"center_actions",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlayCenterButton_data"}],storageKey:null},{alias:null,args:null,concreteType:"WarningScreenAction",kind:"LinkedField",name:"bottom_actions",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlayBottomButton_data"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlayIcon_data"}],type:"OverlayWarningScreenViewModel",abstractKey:null}}();e.exports=a}),null);
__d("CometWarningScreenOverlayCovered_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWarningScreenOverlayCovered_data",selections:[{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlayBackground_data"},{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlayContent_data"}],type:"OverlayWarningScreenViewModel",abstractKey:null};e.exports=a}),null);
__d("CometWarningScreenOverlayIcon_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWarningScreenOverlayIcon_data",selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],type:"OverlayWarningScreenViewModel",abstractKey:null};e.exports=a}),null);
__d("CometWarningScreenOverlay_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWarningScreenOverlay_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"top_objectionable_category",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlayCovered_data"}],type:"OverlayWarningScreenViewModel",abstractKey:null};e.exports=a}),null);
__d("CometWarningScreenMisinformationDialogQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"3309543662391157",metadata:{relayPreloadable:!0},name:"CometWarningScreenMisinformationDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometPhotoViewer_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometPhotoViewer_photo",selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"tagging_actor",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:"page_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_admin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_taggable_products",storageKey:null}],type:"Page",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},{alias:null,args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PhotoTagsConnection",kind:"LinkedField",name:"tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PhotoTag",kind:"LinkedField",name:"tag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_product_tag",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},{alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"photo_viewer"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{kind:"InlineFragment",selections:[{documentName:"CometPhotoViewer_photo",fragmentName:"CometWarningScreenOverlay_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"OverlayWarningScreenViewModel",abstractKey:null}],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"photo_viewer")'}],type:"Photo",abstractKey:null}}();e.exports=a}),null);
__d("CixWarningScreensFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","cix_warning_screens");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("WarningScreenType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GRAPHIC:"Violence and Gore",OBJECTIONABLE:"Sexual",HATE:"Hate",PROFANITY:"Profanity",POLITICAL:"Politically Charged",CHILD_ABUSE_NON_SEXUAL:"Child Abuse (non-sexual)",SENSITIVE:"Sensitive",CRUEL:"Cruel",MATURE_ONLY_14_AND_OVER:"Mature Only 14 And Over",ANIMAL_VIOLENCE:"Animal Violence",SENSITIVE_TEXT:"Sensitive Text",FALSE_NEWS:"False News",FALSE_HEADLINE_NEWS:"False Headline News",MISLEADING_NEWS:"Misleading News",GOVERNMENT_CORRECTION:"Government Correction",CENSUS_MISINFO:"Census Misinfo",CENSUS_BORDERLINE:"Census Borderline",COVID_ELECTION_BORDERLINE:"Covd Election Borderline",WIDELY_DEBUNKED_HOAX_COVID:"Widely Debunked Hoax Covid"})}),null);
__d("CometWarningScreenClientLogger",["CixWarningScreensFalcoEvent","WarningScreenType"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,h,i,j){var k=c==null?void 0:c.split(":").filter(function(a){return a!==""}).pop();b("CixWarningScreensFalcoEvent").log(function(){return{action:a,content_id_raw:k,endpoint:d,event:e,story_ent_identifier_graphql_id:f,story_render_location:h,surface:i,top_warning_screen_category:g(j)}})}function g(a){if(a==null)return null;a=a;return b("WarningScreenType")[a]}f.logWarningScreenEvent=a}),null);
__d("CometWarningScreenOverlayBackground.react",["CometBlurredBackgroundImage.react","CometRelay","React","stylex","CometWarningScreenOverlayBackground_data.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("React");function a(a){var c=h(g!==void 0?g:g=b("CometWarningScreenOverlayBackground_data.graphql"),a.data);c=c.cover_style;a=a.mediaUri;switch(c){case"PLAIN":return i.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg hzruof5a n7fi1qx3 i09qtzwb d6rk862h"});case"GRADIENT":return i.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg hzruof5a n7fi1qx3 i09qtzwb njqljl3s"});case"REVERSE_GRADIENT":return i.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg hzruof5a n7fi1qx3 i09qtzwb qpkeyiwh"});case"BLUR":return i.jsxs("div",{className:"j102wcjv kr520xx4 j9ispegn pmk7jnqg hzruof5a n7fi1qx3 i09qtzwb",children:[i.jsx(b("CometBlurredBackgroundImage.react"),{src:a}),i.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg hzruof5a n7fi1qx3 i09qtzwb d6rk862h"})]});case"NONE":default:return i.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg hzruof5a n7fi1qx3 i09qtzwb"})}}e.exports=a}),null);
__d("CometWarningScreenOverlayBottomButton.react",["CometPressable.react","CometRelay","CometTextWithEntitiesRelay.react","React","TetraText.react","stylex","useCometUFIVideoPlayerStateAndController","CometWarningScreenOverlayBottomButton_data.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("React");function a(a){var c=b("useCometUFIVideoPlayerStateAndController")(),d=h(g!==void 0?g:g=b("CometWarningScreenOverlayBottomButton_data.graphql"),a.data);d=d.label;return d==null?null:i.jsxs(b("CometPressable.react"),{display:"inline",onPress:function(){c&&c.controller.play("warning_screen_cover"),a.logAction(),a.action()},testid:void 0,children:[i.jsx("div",{className:"sjgh65i0 ay7djpcl pwoa4pd7"}),i.jsx(b("TetraText.react"),{color:"white",type:"bodyLink3",children:i.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:d})})]})}e.exports=a}),null);
__d("CometWarningScreenMisinformationDialogEntryPoint.entrypoint",["CometWarningScreenMisinformationDialogQuery$Parameters","JSResource"],(function(a,b,c,d,e,f){"use strict";a={getPreloadProps:function(a){a=a.storyID;return{queries:{queryReference:{parameters:b("CometWarningScreenMisinformationDialogQuery$Parameters"),variables:{misinfoTreatmentType:"OVERLAY",storyID:a}}}}},root:b("JSResource")("CometWarningScreenMisinformationDialog.react").__setRef("CometWarningScreenMisinformationDialogEntryPoint.entrypoint")};e.exports=a}),null);
__d("CometWarningScreenOverlayCenterButton.react",["CometRelay","CometTextWithEntitiesRelay.react","CometWarningScreenMisinformationDialogEntryPoint.entrypoint","React","TetraButton.react","recoverableViolation","stylex","useCometEntryPointDialog","CometWarningScreenOverlayCenterButton_data.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("React");function a(a){var c=h(g!==void 0?g:g=b("CometWarningScreenOverlayCenterButton_data.graphql"),a.data),d=b("useCometEntryPointDialog")(b("CometWarningScreenMisinformationDialogEntryPoint.entrypoint"),{storyID:a.storyID||""}),e=d[0];d=d[1];var f=c.label,j=c.type;if(f==null||j==null){b("recoverableViolation")("Empty data passed","comet_warning_screens");return null}if(j==="OPEN_MISINFO_SEE_WHY_DIALOG"&&a.storyID==null){b("recoverableViolation")("No story ID for misinfo","comet_warning_screens");return null}d={onPress:function(){a.logAction("OPEN_MISINFO_SEE_WHY_DIALOG"),e({})},ref:d};c={linkProps:{target:"_blank",url:c.context},onPress:function(){a.logAction("HELP_CENTER_REDIRECT")}};return i.jsx("div",{className:"oqcyycmt mrt03zmi discj3wi b3onmgus ph5uu5jm q9uorilb",children:i.jsx(b("TetraButton.react"),babelHelpers["extends"]({label:i.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:f}),size:"medium",type:"overlay"},j==="OPEN_MISINFO_SEE_WHY_DIALOG"?d:c))})}e.exports=a}),null);
__d("CometWarningScreenOverlayIcon.react",["CometRelay","IconSource","React","TetraIcon.react","coerceRelayImage","unrecoverableViolation","CometWarningScreenOverlayIcon_data.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("React");function a(a){a=h(g!==void 0?g:g=b("CometWarningScreenOverlayIcon_data.graphql"),a.data);if(a.icon==null)throw b("unrecoverableViolation")("Icon missing for Warning Screen","comet_frx");a=new(b("IconSource"))("FB",b("coerceRelayImage")(a.icon),24);return i.jsx(b("TetraIcon.react"),{color:"white",icon:a,size:24})}e.exports=a}),null);
__d("useWarningScreenLayout",["React"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useLayoutEffect,h=c.useRef,i=c.useState;function a(){var a=i("DEFAULT"),b=a[0],c=a[1],d=h(null),e=h(null),f=h(null);g(function(){if(d.current==null||e.current==null||f.current==null)return;d.current!=null&&e.current!=null&&f.current!=null&&(d.current.clientHeight-e.current.clientHeight-f.current.clientHeight<=0&&c("SMALL"))},[d,e,f]);return[b,{bottomContainerRef:f,contentContainerRef:e,overlayContainerRef:d}]}e.exports=a}),null);
__d("CometWarningScreenOverlayContent.react",["fbt","CometFeedAttachmentOverlayContext","CometPressable.react","CometRelay","CometTextWithEntitiesRelay.react","CometWarningScreenOverlayBottomButton.react","CometWarningScreenOverlayCenterButton.react","CometWarningScreenOverlayIcon.react","React","TetraText.react","TetraTextPairing.react","stylex","useCometRouterDispatcher","useWarningScreenLayout","CometWarningScreenOverlayContent_data.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("CometFeedAttachmentOverlayContext").useShowOverlay;b("CometRelay").graphql;var k=b("CometRelay").useFragment,l=b("React"),m={bottomContainer:{flexGrow:"kb5gq1qc",paddingTop:"discj3wi",textAlign:"oqcyycmt",width:"k4urcfbm"},content:{alignItems:"bp9cbjyn",display:"j83agx80",flexGrow:"buofh1pr",justifyContent:"taijpn5t"},intercepter:{bottom:"i09qtzwb",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",":active":{transform:"tm8avpzi"}},overlayContainer:{bottom:"i09qtzwb",display:"j83agx80",end:"n7fi1qx3",flexDirection:"cbu4d94t",overflowX:"hihg3u9x",overflowY:"ggxiycxj",paddingTop:"discj3wi",paddingEnd:"hv4rvrfc",paddingBottom:"ihqw7lf3",paddingStart:"dati1w0a",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",zIndex:"j102wcjv"},overlayContainerSmall:{paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso",pointerEvents:"hzruof5a"}};function a(a){var c=k(h!==void 0?h:h=b("CometWarningScreenOverlayContent_data.graphql"),a.data),d=a.storyID,e=a.logAction,f=c.title,n=c.subtitle,o=j(),p=a.alwaysShowDetails===!0,q=a.alwaysUseSmallLayout===!0,r=b("useCometRouterDispatcher")(),s=a.url,t=b("useWarningScreenLayout")(),u=t[0];t=t[1];var v=t.bottomContainerRef,w=t.contentContainerRef;t=t.overlayContainerRef;if(q||u==="SMALL"&&!p){q=s!=null?l.jsx(b("CometPressable.react"),{"aria-label":g._("Cover,sensitive content in album"),display:"block",hideHoverOverlay:!0,onPress:function(a){r!=null&&(e("OPEN_CONTENT_VIEWER"),r.go(s,{}),a.preventDefault())},xstyle:m.intercepter}):null;return l.jsxs("div",{children:[l.jsx("div",{className:(i||(i=b("stylex")))(m.overlayContainer,m.overlayContainerSmall),ref:t,children:l.jsx("div",{className:i(m.content),ref:w,children:l.jsx(b("CometWarningScreenOverlayIcon.react"),{data:c})})}),q]})}return l.jsxs("div",{className:(i||(i=b("stylex")))(m.overlayContainer),ref:t,children:[l.jsx("div",{className:i(m.content),ref:w,children:l.jsx(b("TetraTextPairing.react"),{body:l.jsxs(l.Fragment,{children:[n!=null?l.jsx(b("TetraText.react"),{color:"white",type:"body3",children:l.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:n})}):null,c.center_actions[0]!=null?l.jsx("div",{children:l.jsx(b("CometWarningScreenOverlayCenterButton.react"),{data:c.center_actions[0],logAction:a.logAction,storyID:d})}):null]}),bodyColor:"white",headline:f!=null?l.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:f}):null,headlineColor:"white",level:3,meta:l.jsx(b("CometWarningScreenOverlayIcon.react"),{data:c}),metaLocation:"above",textAlign:"center"})}),c.bottom_actions[0]!=null?l.jsx("div",{className:(i||(i=b("stylex")))(m.bottomContainer),ref:v,children:l.jsx(b("CometWarningScreenOverlayBottomButton.react"),{action:function(){return o(!1)},data:c.bottom_actions[0],logAction:function(){return e("SHOW_CONTENT")}})}):null]})}e.exports=a}),null);
__d("CometWarningScreenOverlayCovered.react",["CometRelay","CometWarningScreenOverlayBackground.react","CometWarningScreenOverlayContent.react","React","CometWarningScreenOverlayCovered_data.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("React");function a(a){var c=h(g!==void 0?g:g=b("CometWarningScreenOverlayCovered_data.graphql"),a.data);return i.jsxs(i.Fragment,{children:[i.jsx(b("CometWarningScreenOverlayBackground.react"),{data:c,mediaUri:a.mediaUri}),i.jsx(b("CometWarningScreenOverlayContent.react"),{alwaysShowDetails:a.alwaysShowDetails,alwaysUseSmallLayout:a.alwaysUseSmallLayout,data:c,logAction:a.logAction,storyID:a.storyID,url:a.url})]})}e.exports=a}),null);
__d("CometWarningScreenOverlayUncovered.react",["ix","fbt","CometFeedAttachmentOverlayContext","CometRouteRenderType","React","TetraCircleButton.react","fbicon","stylex","unrecoverableViolation","useCometRouterState","useCometUFIVideoPlayerStateAndController"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("CometFeedAttachmentOverlayContext").useShowOverlay,k=b("CometRouteRenderType").useIsPushView,l=b("React"),m={showOverlayButton:{end:"cypi58rs",position:"pmk7jnqg",top:"dn56xbwz"}};function a(a){var c=b("useCometUFIVideoPlayerStateAndController")(),d=j(),e=b("useCometRouterState")();if(e==null)throw b("unrecoverableViolation")("Cannot render comet app with no route provider","comet_infra");e=k();e=e&&a.xstyle!=null?a.xstyle:m.showOverlayButton;return l.jsx("div",{className:(i||(i=b("stylex")))(e),children:l.jsx(b("TetraCircleButton.react"),{icon:b("fbicon")._(g("511436"),24),label:h._("Show overlay"),onPress:function(){c&&c.controller.pause("warning_screen_cover"),d(!0),a.logAction("HIDE_CONTENT")},size:40,testid:void 0,type:"dark-overlay"})})}e.exports=a}),null);
__d("CometWarningScreenOverlay.react",["CometFeedAttachmentOverlayContext","CometRelay","CometStoryRenderLocationContext.react","CometTimeSpentNavigation","CometWarningScreenClientLogger","CometWarningScreenOverlayCovered.react","CometWarningScreenOverlayUncovered.react","React","CometWarningScreenOverlay_data.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CometFeedAttachmentOverlayContext").useIsOverlayShown;b("CometRelay").graphql;var i=b("CometRelay").useFragment,j=b("CometWarningScreenClientLogger").logWarningScreenEvent,k=b("React");c=b("React");var l=c.useContext,m=c.useLayoutEffect;function a(a){var c=i(g!==void 0?g:g=b("CometWarningScreenOverlay_data.graphql"),a.data),d=a.storyID,e=a.contentID,f=a.mediaUri,n=a.surface,o=a.url,p=c.top_objectionable_category,q=h(),r=l(b("CometStoryRenderLocationContext.react")),s=b("CometTimeSpentNavigation").getPathInfo(),t=s?s.name:"";m(function(){j(null,e,t,"mounted",d,r,n,p)},[e,t,d,r,n,p]);s=function(a){j(a,e,t,"action",d,r,n,p)};if(p==null)return null;if(q||(a==null?void 0:a.alwaysShowCoverComponent)===!0)return k.jsx(b("CometWarningScreenOverlayCovered.react"),{alwaysShowDetails:a.alwaysShowDetails,alwaysUseSmallLayout:a.alwaysUseSmallLayout,data:c,logAction:s,mediaUri:f,storyID:d,url:o});else return k.jsx(b("CometWarningScreenOverlayUncovered.react"),{logAction:s,xstyle:a.xstyle})}e.exports=a}),null);
__d("useMediaViewerVPVDLogger",["requireDeferred","CometInteractionSourceContext","React","WebSession","gkx","useVPVDImpression"],(function(a,b,c,d,e,f){"use strict";var g=b("requireDeferred")("CometMediaVpvdFalcoEvent");c=b("React");var h=c.useCallback,i=c.useContext;function a(a,c){var d=i(b("CometInteractionSourceContext")),e=a.authorId,f=a.createdTime,j=a.fbid,k=a.source,l=a.storyContainerId;c=h(function(a){var c,h;a.hiddenTime;var i=a.visibleDuration;a=a.visibleTime;if(j==null)return;c=(c=k)!=null?c:d;var m={a:(h=e)!=null?h:"",ct:(h=f)!=null?h:0,d:i,i:j,s:c,si:l,sid:b("WebSession").getId(),vst:a};g.onReady(function(a){a=a.log;return a(function(){return m})})},[e,f,j,d,k,l]);return b("useVPVDImpression")({onVPVDEnd:c})}e.exports=a}),null);
__d("CometPhotoViewer.react",["ix","fbt","requireDeferred","Actor","CometFeedAttachmentOverlayContext","CometFullScreen","CometHero.react","CometImage.react","CometMediaViewerStage.react","CometPagelet.react","CometPhotoViewerImageSuspense","CometPhotoViewerInnerWrapper.react","CometPlaceholder.react","CometRelay","CometRow.react","CometRowItem.react","CometTheme.react","CometTooltip.react","CometTrackingNodeProvider.react","ProductTaggingCreatorTypedLogger","React","TetraButton.react","TetraIcon.react","TetraText.react","WebSession","fbicon","gkx","recoverableViolation","stylex","useMediaViewerVPVDLogger","useMergeRefs","useStoryViewabilityLogger","CometPhotoViewer_photo.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("Actor").useActor,k=b("CometFeedAttachmentOverlayContext").useIsOverlayShown,l=b("CometFullScreen").exitFullScreen,m=b("CometFullScreen").isFullScreen,n=b("CometFullScreen").requestFullScreen,o=b("requireDeferred")("CometMediaTagFalcoEvent"),p=b("CometPhotoViewerInnerWrapper.react").CometPhotoViewerImageWrapper,q=b("CometPhotoViewerInnerWrapper.react").CometPhotoViewerPlaceholderWrapper,r=b("CometPhotoViewerInnerWrapper.react").useCometPhotoViewerContainerStyles,s=b("CometRelay").MatchContainer;b("CometRelay").graphql;var t=b("CometRelay").useFragment,u=b("React");c=b("React");var v=c.useCallback,w=c.useMemo,x=c.useRef,y=c.useState,z=94,aa=i!==void 0?i:i=b("CometPhotoViewer_photo.graphql");function a(a){var c,d,e,f,i,A,B,C,D=y(!1),E=D[0],F=D[1];D=y(!1);var G=D[0],H=D[1];D=j();var I=D[0];D[1];D=a.origHeight;var J=a.origSrc,K=a.origWidth,L=a.photo,M=a.photoTagLayerQueryReference,N=a.showTag,ba=a.storyRenderLocation,ca=babelHelpers.objectWithoutPropertiesLoose(a,["origHeight","origSrc","origWidth","photo","photoTagLayerQueryReference","showTag","storyRenderLocation"]),O=t(aa,L);L=v(function(){F(!1),H(!1)},[]);var P=O==null?void 0:(c=O.image)==null?void 0:c.uri,Q=O==null?void 0:O.id,R=O==null?void 0:(c=O.owner)==null?void 0:c.id;c=(c=O==null?void 0:(c=O.tags)==null?void 0:c.edges)!=null?c:[];var S=x(new Set(c.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.name}))),T=O==null?void 0:O.created_time,U=O==null?void 0:(c=O.container_story)==null?void 0:c.post_id,da=O==null?void 0:(c=O.container_story)==null?void 0:c.id;c=(O==null?void 0:(c=O.tagging_actor)==null?void 0:c.id)!=null;var V=O==null?void 0:(d=O.cix_screen)==null?void 0:d.view_model;d=w(function(){return{authorId:R,createdTime:T,fbid:Q,source:6,storyContainerId:U}},[R,T,Q,U]);d=b("useMediaViewerVPVDLogger")(d);var W=d[0],X=d[1];d=O==null?void 0:(d=O.container_story)==null?void 0:d.encrypted_tracking;e=O==null?void 0:(e=O.container_story)==null?void 0:e.viewability_config;f=(f=O==null?void 0:O.container_story)!=null?f:{};f=f.client_view_config;f={can_delay_log_impression:f==null?void 0:f.can_delay_log_impression,use_banzai_signal_imp:f==null?void 0:f.use_banzai_signal_imp,use_banzai_vital_imp:f==null?void 0:f.use_banzai_vital_imp};f=b("useStoryViewabilityLogger")({clientViewConfig:f,disabledViewabilityEventTypes:[5],encryptedTracking:d,position:0,viewabilityConfig:e});d=f.ref;e=y(m());var Y=e[0],Z=e[1];f=b("useMergeRefs")(W,d);e=r();W=k();d=v(function(){if(!Y){var a=document.documentElement;a!=null&&(n(a),Z(!0))}else l(),Z(!1)},[Y]);var ea=function(){var a;F(!1);H(!1);if(Q==null){b("recoverableViolation")("photo id can not be null","comet_feed");return}a=(a=O==null?void 0:(a=O.tags)==null?void 0:a.edges)!=null?a:[];a=a.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.name});var c=b("WebSession").getId(),d=S.current.size?a.filter(function(a){return!S.current.has(a)}):a;$?new(b("ProductTaggingCreatorTypedLogger"))().setEvent("Actn_PhotoViewerDoneProductTagButton").setMediaType("photo").setReferralSource("post_viewer").setPlatform("comet").setCreatorID(I).setMediaID(Q).log():o.onReady(function(a){a.log(function(){return{media_fbid:Q,num_users_tagged:d.length,session_id:c}})});S.current=new Set(a)};i=Boolean(O==null?void 0:(i=O.tags)==null?void 0:i.edges.some(function(a){return!(a==null?void 0:(a=a.tag)==null?void 0:a.is_product_tag)}));A=Boolean(O==null?void 0:(A=O.tags)==null?void 0:A.edges.some(function(a){return a==null?void 0:(a=a.tag)==null?void 0:a.is_product_tag}));B=(O==null?void 0:(B=O.owner)==null?void 0:B.has_taggable_products)===!0&&Boolean(O==null?void 0:(B=O.owner)==null?void 0:B.is_viewer_admin)&&b("gkx")("1218176");C=B&&Boolean((O==null?void 0:(C=O.owner)==null?void 0:C.page_id)!=null)&&Boolean(I===(O==null?void 0:(C=O.owner)==null?void 0:C.page_id));A=i||!A&&!i&&!B;var $=C&&!i;if(P==null){b("recoverableViolation")("Error loading media. More investigation is needed, might be an invalid photo, a special type of MediaSet, or something else.","comet_ui");return h._("No valid photo to display.")}C=(B=J)!=null?B:P;i=C!=null&&C!==""?{backgroundSrc:C}:null;B=Y?h._("Exit Fullscreen"):h._("Enter Fullscreen");C=u.jsx(b("CometPagelet.react").Placeholder,{className:e,fallback:J!=null?u.jsx(q,{height:D,imageUri:J,ref:f,showPlaceholderImage:J!=null&&K!=null&&D!=null&&!W,width:K}):u.jsx("div",{className:e,ref:f,children:u.jsx(p,{imageComponentWithXStyle:function(a){return u.jsxs(u.Fragment,{children:[X,u.jsx(b("CometImage.react"),{src:P,testid:void 0,xstyle:a},P)]})}})}),name:"MediaViewerPhoto",pageletType:"media",ref:f,children:u.jsx(p,{imageComponent:function(a){return u.jsxs(u.Fragment,{children:[X,u.jsx(b("CometHero.react"),{description:"MainPhoto"}),u.jsx(b("CometPhotoViewerImageSuspense"),{className:a,"data-testid":void 0,src:P},P),V!=null&&u.jsx(s,{match:V,props:{alwaysShowDetails:!0,contentID:Q,data:V,mediaUri:P,storyID:da,surface:"photo_viewer"}}),N!==null&&M!=null?u.jsx(b("CometPlaceholder.react"),{fallback:null,children:u.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 i09qtzwb"+(E?"":" hzruof5a"),children:u.jsx(N,{isTaggingProducts:G,photoTagLayerQueryReference:M,tagBoxSize:z,tagModeEnabled:E})})}):null]})}})},P);J=G?"btwxx1t3 j83agx80 bp9cbjyn":"cj5g2342 kfkz5moi pmk7jnqg";D=G?h._("Click on the photo to start product tagging"):h._("Click on the photo to start tagging");K=N!==null&&M!=null&&c===!0;e=null;$?e=u.jsx(b("CometRowItem.react"),{children:u.jsx(b("CometTooltip.react"),{position:"below",tooltip:h._("Tag Product"),children:u.jsx(b("TetraIcon.react"),{"aria-label":h._("Tag product"),color:"white",hideHoverOverlay:!0,icon:b("fbicon")._(g("697803"),32),onPress:function(){new(b("ProductTaggingCreatorTypedLogger"))().setEvent("Actn_PhotoViewerProductTagButton").setMediaType("photo").setReferralSource("post_viewer").setPlatform("comet").setCreatorID(R).setMediaID(Q).log(),F(!0),H(!0)}})})}):A&&(e=u.jsx(b("CometRowItem.react"),{children:u.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:140,children:u.jsx(b("CometTooltip.react"),{position:"below",tooltip:h._("Tag Photo"),children:u.jsx(b("TetraIcon.react"),{"aria-label":h._("tag friends"),color:"white",hideHoverOverlay:!0,icon:b("fbicon")._(g("674580"),32),onPress:function(){F(!0)},testid:void 0})})})}));return u.jsxs("div",{className:"l9j0dhe7 buofh1pr cbu4d94t j83agx80","data-testid":void 0,children:[u.jsx(b("CometMediaViewerStage.react"),babelHelpers["extends"]({},i,{initialTracePolicy:a.initialTracePolicy,onNavigatePhoto:L,storyRenderLocation:ba,subOrigin:a.subOrigin},ca,{children:C})),W?null:u.jsx("div",{className:"kr520xx4 pmk7jnqg n7fi1qx3",children:u.jsxs(b("CometRow.react"),{align:"end",children:[K&&!E&&!G?e:null,u.jsx(b("CometRowItem.react"),{children:u.jsx(b("CometTooltip.react"),{position:"below",tooltip:B,children:u.jsx(b("TetraIcon.react"),{"aria-label":B,color:"white",hideHoverOverlay:!0,icon:Y?b("fbicon")._(g("1250223"),32):b("fbicon")._(g("1250245"),32),onPress:d,size:32})})})]})}),K&&E?u.jsx(b("CometTheme.react"),{className:"k4urcfbm pmk7jnqg hzruof5a jfpizvyy taijpn5t fdipuqhw j83agx80 i09qtzwb kpb67iw4 aovydwv3",element:"div",theme:"dark",children:u.jsxs("div",{className:J,children:[u.jsx("div",{className:"rv4hoivh j83agx80 bp9cbjyn",children:u.jsx("div",{className:(O==null?void 0:(f=O.owner)==null?void 0:f.has_taggable_products)!==!0?"ihqw7lf3":null,children:u.jsx(b("TetraText.react"),{color:"primary",numberOfLines:1,type:"headline4",children:D})})}),u.jsx("div",{className:"oqq733wu",children:u.jsx(b("TetraButton.react"),{label:h._("Done Tagging"),onPress:ea,type:"primary"})})]})}):null]})}e.exports=a}),null);